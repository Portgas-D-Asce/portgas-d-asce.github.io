# 概述

## 定义

如果在树中选择某个节点并删除，这棵树将分为若干棵子树，统计子树节点数并记录最大值。取遍树上所有节点，使此最大值取到最小的节点被称为整个树的重心。



## 性质

- 树的重心如果不唯一，则至多有两个，且这两个重心相邻。
- 以树的重心为根时，所有子树的大小都不超过整棵树大小的一半。
- 树中所有点到某个点的距离和中，到重心的距离和是最小的；如果有两个重心，那么到它们的距离和一样。
- 把两棵树通过一条边相连得到一棵新的树，那么新的树的重心在连接原来两棵树的重心的路径上。
- 在一棵树上添加或删除一个叶子，那么它的重心最多只移动一条边的距离。



# 不带权重

```cpp
int dfs(vector<vector<int>> &g, int u, int p, vector<int> &dp) {
    int n = g.size();
    int cnt = 1;
    for(int v : g[u]) {
        if(v == p) continue;
        int temp = dfs(g, v, u, dp); 
        cnt += temp;
        dp[u] = max(dp[u], temp);
    }
    dp[u] = max(dp[u], n - cnt);
    return cnt;
}
```

