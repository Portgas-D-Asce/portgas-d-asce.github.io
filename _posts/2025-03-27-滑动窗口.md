---
layout: page
tags: 数据结构与算法
image: /assets/image/4.jpeg
description: xxxxxxxxxxxxxxxxxx
author: pk
title: 滑动窗口
---

# 概述

**滑动窗口是一种特殊的二分查找问题：** 窗口大小是单调的。

## 窗口

窗口本质上就是子数组，无论是实现还是证明都可以从子数组角度考虑。



窗口通常维护了某个性质，在滑动过程中需要保证维护的性质不会遭到破坏。



窗口的性质具有单调性是使用滑动窗口的前提。



## 二分查找

滑动窗口问题都可以通过二分查找方式解决：

- 最小窗口问题：可以转化为 00001111 型二分查找
- 最大窗口问题：可以转化成 11110000 型二分查找



滑动窗口时间复杂度为 $O(n)$，二分查找时间复杂度为 $O(nlog(n))$



# 最大窗口

```cpp
// 窗口初始位置及长度
int idx = -1, len = 0;
for(int i = 0, j = 0; i < n; ++i) {
    // 将第 i 个元素添加到窗口里面
    c[s[i] - 'A']++;
    
    // 添加新元素到窗口后可能会使窗口性质遭到破坏
    while(!check(c)){
        // 不断地从窗口左侧移出元素，直至窗口性质成立
        c[s[j++] - 'A']--;
    }
    
    // 更新最大窗口
    if(i - j + 1 > len) {
        len = i - j + 1;
        idx = j;
    }
}
```



# 最小窗口

```cpp
// 窗口初始位置及长度
int idx = -1, len = INT_MAX;
for(int i = 0, j = 0; i < n; ++i) {
    // 将第 i 个元素加入窗口
    c[s[i] - 'A']++;
    
    // 新元素加入可能会导致窗口性质成立，但当前不一定是最小窗口
    while(check(c)) {
        // 更新最小窗口
        if(i - j + 1 < len) {
            len = i - j + 1;
            idx = j;
        }
        // 不断地从窗口左侧移出元素，直到性质不成立
        c[s[j++] - 'A']--;
    }
}
```

